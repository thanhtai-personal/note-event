{"version":3,"sources":["commonComponents/soundFactory/component.jsx"],"names":["triggerDoremifaSoundsByKey","key","audioList","setText","toLowerCase","doremifaKeys","do","player","play","re","mi","fa","sol","la","si","doOct","do2","re2","mi2","fa2","sol2","la2","si2","doOct2","sources","Object","keys","doremifaSound","map","src","type","useStyles","makeStyles","theme","soundInfo","position","top","right","float","color","Color","white","audioContainer","display","doremifa","green","border","textTransform","SoundComponent","props","classes","useState","offSound","setOffSound","loading","setLoading","audioMapping","setAudioMapping","setAudioList","doremiText","setDoremiText","handleclickSound","useCallback","useEffect","_audioList","audioMappingObj","document","getElementById","forEach","source","index","audioElement","createElement","id","controls","appendChild","push","name","handleKeyPress","e","window","addEventListener","doremifaAudios","removeEventListener","className","onClick"],"mappings":"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","file":"static/js/15.f02c1373.chunk.js","sourcesContent":["import React, { useCallback, useState, useEffect } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Button, Typography } from '@material-ui/core'\nimport Color from 'root/utils/color'\nimport doremifaSound from './smallSounds/doremifa/doremifa'\nimport { doremifaKeys } from './smallSounds/doremifa/doremifa'\n\nconst triggerDoremifaSoundsByKey = (key, audioList, setText) => {\n  switch (key?.toLowerCase()) {\n    case 'q':\n    case 'a':\n    case doremifaKeys.do:\n      setText && setText(audioList[0].key)\n      audioList[0]?.player.play()\n      break;\n    case 'w':\n    case 's':\n    case doremifaKeys.re:\n      setText && setText(audioList[2].key)\n      audioList[2]?.player.play()\n      break;\n    case 'e':\n    case 'd':\n    case doremifaKeys.mi:\n      setText && setText(audioList[4].key)\n      audioList[4]?.player.play()\n      break;\n    case 'r':\n    case 'f':\n    case doremifaKeys.fa:\n      setText && setText(audioList[6].key)\n      audioList[6]?.player.play()\n      break;\n    case 'u':\n    case 'j':\n    case doremifaKeys.sol:\n      setText && setText(audioList[8].key)\n      audioList[8]?.player.play()\n      break;\n    case 'i':\n    case 'k':\n    case doremifaKeys.la:\n      setText && setText(audioList[10].key)\n      audioList[10]?.player.play()\n      break;\n    case 'o':\n    case 'l':\n    case doremifaKeys.si:\n      setText && setText(audioList[12].key)\n      audioList[12]?.player.play()\n      break;\n    case 'p':\n    case ';':\n    case doremifaKeys.doOct:\n      setText && setText(audioList[14].key)\n      audioList[14]?.player.play()\n      break;\n    case 'z':\n    case doremifaKeys.do2:\n      setText && setText(audioList[1].key)\n      audioList[1]?.player.play()\n      break;\n    case 'x':\n    case doremifaKeys.re2:\n      setText && setText(audioList[3].key)\n      audioList[3]?.player.play()\n      break;\n    case 'c':\n    case doremifaKeys.mi2:\n      setText && setText(audioList[5].key)\n      audioList[5]?.player.play()\n      break;\n    case 'v':\n    case doremifaKeys.fa2:\n      setText && setText(audioList[7].key)\n      audioList[7]?.player.play()\n      break;\n    case 'm':\n    case doremifaKeys.sol2:\n      setText && setText(audioList[9].key)\n      audioList[9]?.player.play()\n      break;\n    case ',':\n    case doremifaKeys.la2:\n      setText && setText(audioList[11].key)\n      audioList[11]?.player.play()\n      break;\n    case '.':\n    case doremifaKeys.si2:\n      setText && setText(audioList[13].key)\n      audioList[13]?.player.play()\n      break;\n    case '/':\n    case doremifaKeys.doOct2:\n      setText && setText(audioList[15].key)\n      audioList[15]?.player.play()\n      break;\n    default:\n      setText && setText('')\n      break;\n  }\n}\n\nconst sources = Object.keys(doremifaSound).map((key) => ({\n  key: key,\n  src: doremifaSound[key],\n  type: null,\n}))\n\nconst useStyles = makeStyles((theme) => ({\n  soundInfo: {\n    position: 'absolute',\n    top: '10px',\n    right: '10px',\n    float: 'right',\n    color: Color.white\n  },\n  audioContainer: {\n    display: 'none'\n  },\n  doremifa: {\n    position: 'absolute',\n    top: '15px',\n    right: '120px',\n    float: 'right',\n    color: Color.green,\n    border: 'solid 1px',\n    textTransform: 'capitalize'\n  }\n}))\n\nconst SoundComponent = (props) => {\n  const classes = useStyles()\n  const [offSound, setOffSound] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [audioMapping, setAudioMapping] = useState(null)\n  const [audioList, setAudioList] = useState([])\n  //eslint-disable-next-line\n  const [doremiText, setDoremiText] = useState('')\n\n  const handleclickSound = useCallback(() => {\n    setOffSound(!offSound)\n    setDoremiText('')\n  }, [offSound])\n\n  useEffect(() => {\n    setLoading(true)\n    let _audioList = []\n    let audioMappingObj = {}\n    let audioContainer = document.getElementById('audio-container')\n    sources.forEach((source, index) => {\n      let audioElement = document.createElement('audio')\n      audioElement.src = source.src\n      audioElement.id = source.key || `audio-${index}`\n      audioElement.controls = !(source.controls === false)\n      audioElement.type = source.type || 'audio/mpeg'\n      // audioElement.autoplay = true\n      audioContainer.appendChild(audioElement)\n      _audioList.push({\n        key: source.key,\n        // player: new Audio(source.src),\n        player: audioElement\n      })\n      audioMappingObj[source.key] = {\n        player: audioElement,\n        name: source.key\n      }\n    })\n    setAudioMapping(audioMappingObj)\n    setAudioList(_audioList)\n    setLoading(false)\n  }, [])\n\n  const handleKeyPress = useCallback((e) => {\n    if (!audioMapping || offSound) return\n    triggerDoremifaSoundsByKey(e.key, audioList, setDoremiText)\n  }, [audioList, offSound, audioMapping])\n\n  useEffect(() => {\n    window.addEventListener('keypress', handleKeyPress)\n    window.triggerDoremifaSoundsByKey = triggerDoremifaSoundsByKey\n    window.doremifaAudios = audioList\n    return () => {\n      window.removeEventListener('keypress', handleKeyPress)\n      window.doremifaAudios = null\n      window.triggerDoremifaSoundsByKey = null\n    }\n  }, [audioList, offSound, audioMapping, handleKeyPress])\n\n  return (\n    <>\n      <Button className={classes.soundInfo} onClick={handleclickSound}>SOUND: {loading ? 'Loading...' : offSound ? ' Off' : '  On'}</Button>\n      <Typography className={classes.doremifa}>{doremiText}</Typography>\n      <div id='audio-container' className={classes.audioContainer}></div>\n    </>\n  )\n}\n\nexport default SoundComponent"],"sourceRoot":""}